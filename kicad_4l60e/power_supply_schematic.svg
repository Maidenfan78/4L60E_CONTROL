<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900" font-family="Consolas, monospace" font-size="12">
  <title>4L60-E Controller Power Supply Schematic</title>

  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#333"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="900" fill="#FAFAFA" rx="8"/>

  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-size="18" font-weight="bold" fill="#222">4L60-E Controller — Power Supply Schematic</text>
  <text x="600" y="48" text-anchor="middle" font-size="11" fill="#666">Vehicle 12V → Protected Rail → Dual 5V Buck Converters (Teensy + Pi)</text>

  <!-- ============================================================ -->
  <!-- STAGE 1: INPUT PROTECTION (left side) -->
  <!-- ============================================================ -->

  <text x="40" y="85" font-size="14" font-weight="bold" fill="#1a5276">Stage 1: Input Protection</text>

  <!-- Vehicle +12V label -->
  <rect x="30" y="120" width="90" height="30" fill="#e74c3c" rx="4"/>
  <text x="75" y="140" text-anchor="middle" font-size="11" fill="white" font-weight="bold">VEHICLE +12V</text>
  <text x="75" y="160" text-anchor="middle" font-size="9" fill="#888">10V–15V range</text>

  <!-- Wire from vehicle to fuse -->
  <line x1="120" y1="135" x2="160" y2="135" stroke="#333" stroke-width="2"/>

  <!-- F1 Fuse -->
  <rect x="160" y="122" width="80" height="26" fill="none" stroke="#333" stroke-width="1.5" rx="3"/>
  <line x1="175" y1="135" x2="185" y2="127"/>
  <line x1="185" y1="127" x2="195" y2="143"/>
  <line x1="195" y1="143" x2="205" y2="127"/>
  <line x1="205" y1="127" x2="215" y2="143"/>
  <line x1="215" y1="143" x2="225" y2="135"/>
  <text x="200" y="117" text-anchor="middle" font-size="10" font-weight="bold" fill="#333">F1</text>
  <text x="200" y="163" text-anchor="middle" font-size="9" fill="#555">2A fast-blow</text>

  <!-- Wire from fuse to Schottky -->
  <line x1="240" y1="135" x2="290" y2="135" stroke="#333" stroke-width="2"/>

  <!-- D1 Schottky Diode (triangle + bar pointing right = anode left, cathode right) -->
  <polygon points="300,122 300,148 330,135" fill="none" stroke="#333" stroke-width="1.5"/>
  <line x1="330" y1="120" x2="330" y2="150" stroke="#333" stroke-width="2.5"/>
  <text x="315" y="112" text-anchor="middle" font-size="10" font-weight="bold" fill="#333">D1</text>
  <text x="315" y="168" text-anchor="middle" font-size="9" fill="#555">VFT4045BP</text>
  <text x="315" y="179" text-anchor="middle" font-size="9" fill="#555">Schottky 45V/40A</text>
  <text x="315" y="190" text-anchor="middle" font-size="9" fill="#888">0.41V drop @ 5A</text>

  <!-- Wire from Schottky to node point -->
  <line x1="330" y1="135" x2="420" y2="135" stroke="#333" stroke-width="2"/>

  <!-- Protected rail node (junction dot) -->
  <circle cx="420" cy="135" r="4" fill="#333"/>

  <!-- TVS1 going down from node to GND -->
  <line x1="420" y1="139" x2="420" y2="180" stroke="#333" stroke-width="1.5"/>
  <!-- TVS symbol (two back-to-back zener triangles simplified) -->
  <polygon points="408,180 432,180 420,210" fill="none" stroke="#333" stroke-width="1.5"/>
  <line x1="408" y1="210" x2="432" y2="210" stroke="#333" stroke-width="2"/>
  <!-- small bent ends for TVS -->
  <line x1="408" y1="210" x2="405" y2="205" stroke="#333" stroke-width="1.5"/>
  <line x1="432" y1="210" x2="435" y2="205" stroke="#333" stroke-width="1.5"/>
  <text x="455" y="190" font-size="10" font-weight="bold" fill="#333">TVS1</text>
  <text x="455" y="203" font-size="9" fill="#555">P6KE18A</text>
  <text x="455" y="215" font-size="9" fill="#888">15.3V standoff</text>
  <text x="455" y="227" font-size="9" fill="#888">18V breakdown</text>
  <!-- TVS to GND -->
  <line x1="420" y1="210" x2="420" y2="240" stroke="#333" stroke-width="1.5"/>
  <!-- GND symbol -->
  <line x1="408" y1="240" x2="432" y2="240" stroke="#333" stroke-width="2"/>
  <line x1="412" y1="245" x2="428" y2="245" stroke="#333" stroke-width="1.5"/>
  <line x1="416" y1="250" x2="424" y2="250" stroke="#333" stroke-width="1"/>

  <!-- "Protected 12V Rail" label on the wire continuing right -->
  <line x1="420" y1="135" x2="560" y2="135" stroke="#c0392b" stroke-width="2.5"/>
  <text x="490" y="128" text-anchor="middle" font-size="10" font-weight="bold" fill="#c0392b">PROTECTED RAIL</text>
  <text x="490" y="115" text-anchor="middle" font-size="9" fill="#888">~9.6V to ~14.3V</text>

  <!-- Junction at split point -->
  <circle cx="560" cy="135" r="4" fill="#333"/>

  <!-- ============================================================ -->
  <!-- STAGE 2A: TEENSY SUPPLY (upper branch) -->
  <!-- ============================================================ -->

  <text x="600" y="85" font-size="14" font-weight="bold" fill="#1a5276">Stage 2A: Teensy Supply</text>

  <!-- Wire going up-right to Teensy buck -->
  <line x1="560" y1="135" x2="560" y2="105" stroke="#333" stroke-width="2"/>
  <line x1="560" y1="105" x2="620" y2="105" stroke="#333" stroke-width="2"/>

  <!-- Input cap Cin1 (branch down from wire before regulator) -->
  <line x1="600" y1="105" x2="600" y2="130" stroke="#333" stroke-width="1.5"/>
  <circle cx="600" cy="105" r="3" fill="#333"/>
  <!-- Capacitor symbol -->
  <line x1="590" y1="130" x2="610" y2="130" stroke="#333" stroke-width="2"/>
  <line x1="590" y1="136" x2="610" y2="136" stroke="#333" stroke-width="2"/>
  <line x1="600" y1="136" x2="600" y2="155" stroke="#333" stroke-width="1.5"/>
  <!-- GND -->
  <line x1="588" y1="155" x2="612" y2="155" stroke="#333" stroke-width="2"/>
  <line x1="592" y1="160" x2="608" y2="160" stroke="#333" stroke-width="1.5"/>
  <line x1="596" y1="165" x2="604" y2="165" stroke="#333" stroke-width="1"/>
  <text x="570" y="140" text-anchor="end" font-size="9" fill="#555">Cin1</text>
  <text x="570" y="152" text-anchor="end" font-size="9" fill="#888">22uF/50V</text>

  <!-- OKI-78SR Box -->
  <rect x="620" y="88" width="160" height="38" fill="#2980b9" rx="5" stroke="#1a5276" stroke-width="1.5"/>
  <text x="700" y="104" text-anchor="middle" font-size="10" font-weight="bold" fill="white">OKI-78SR-5/1.5</text>
  <text x="700" y="118" text-anchor="middle" font-size="9" fill="#d5e8f0">7–36V → 5V / 1.5A</text>
  <!-- Pin labels -->
  <text x="625" y="84" font-size="8" fill="#555">Vin</text>
  <text x="700" y="84" font-size="8" fill="#555" text-anchor="middle">GND</text>
  <text x="770" y="84" font-size="8" fill="#555" text-anchor="end">Vout</text>

  <!-- GND pin down -->
  <line x1="700" y1="126" x2="700" y2="155" stroke="#333" stroke-width="1.5"/>
  <line x1="688" y1="155" x2="712" y2="155" stroke="#333" stroke-width="2"/>
  <line x1="692" y1="160" x2="708" y2="160" stroke="#333" stroke-width="1.5"/>
  <line x1="696" y1="165" x2="704" y2="165" stroke="#333" stroke-width="1"/>

  <!-- Output wire -->
  <line x1="780" y1="105" x2="850" y2="105" stroke="#333" stroke-width="2"/>

  <!-- Output cap Cout1 (branch down after regulator) -->
  <line x1="820" y1="105" x2="820" y2="130" stroke="#333" stroke-width="1.5"/>
  <circle cx="820" cy="105" r="3" fill="#333"/>
  <!-- Capacitor symbol -->
  <line x1="810" y1="130" x2="830" y2="130" stroke="#333" stroke-width="2"/>
  <line x1="810" y1="136" x2="830" y2="136" stroke="#333" stroke-width="2"/>
  <line x1="820" y1="136" x2="820" y2="155" stroke="#333" stroke-width="1.5"/>
  <!-- GND -->
  <line x1="808" y1="155" x2="832" y2="155" stroke="#333" stroke-width="2"/>
  <line x1="812" y1="160" x2="828" y2="160" stroke="#333" stroke-width="1.5"/>
  <line x1="816" y1="165" x2="824" y2="165" stroke="#333" stroke-width="1"/>
  <text x="845" y="140" font-size="9" fill="#555">Cout1</text>
  <text x="845" y="152" font-size="9" fill="#888">22uF/10V</text>

  <!-- 5V_TEENSY rail label -->
  <line x1="850" y1="105" x2="920" y2="105" stroke="#e67e22" stroke-width="2.5"/>
  <text x="885" y="98" text-anchor="middle" font-size="10" font-weight="bold" fill="#e67e22">5V_TEENSY</text>

  <!-- Junction point for Teensy loads -->
  <circle cx="920" cy="105" r="4" fill="#333"/>

  <!-- Teensy 4.1 box -->
  <line x1="920" y1="105" x2="970" y2="105" stroke="#333" stroke-width="2"/>
  <rect x="970" y="70" width="140" height="75" fill="#27ae60" rx="5" stroke="#1e8449" stroke-width="1.5"/>
  <text x="1040" y="90" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Teensy 4.1</text>
  <text x="1040" y="105" text-anchor="middle" font-size="9" fill="#d5f5e3">VIN → 5V input</text>
  <text x="1040" y="118" text-anchor="middle" font-size="9" fill="#d5f5e3">Onboard 3.3V reg</text>
  <text x="1040" y="131" text-anchor="middle" font-size="9" fill="#d5f5e3">(250mA for GPIO/pullups)</text>
  <!-- VIN label -->
  <text x="975" y="100" font-size="8" fill="#d5f5e3">VIN</text>

  <!-- Line pressure sensor branch -->
  <line x1="920" y1="105" x2="920" y2="50" stroke="#333" stroke-width="1.5"/>
  <rect x="880" y="25" width="120" height="24" fill="#f0f0f0" rx="3" stroke="#999" stroke-width="1"/>
  <text x="940" y="41" text-anchor="middle" font-size="9" fill="#555">Line Pressure Sensor (+5V)</text>
  <text x="940" y="18" text-anchor="middle" font-size="8" fill="#888">Optional — 20mA</text>

  <!-- ============================================================ -->
  <!-- STAGE 2B: PI SUPPLY (lower branch) -->
  <!-- ============================================================ -->

  <text x="600" y="280" font-size="14" font-weight="bold" fill="#1a5276">Stage 2B: Pi Supply (Separate)</text>

  <!-- Wire going down-right from protected rail to Pi buck -->
  <line x1="560" y1="135" x2="560" y2="305" stroke="#333" stroke-width="2"/>
  <line x1="560" y1="305" x2="620" y2="305" stroke="#333" stroke-width="2"/>

  <!-- Input cap Cin2 -->
  <line x1="600" y1="305" x2="600" y2="330" stroke="#333" stroke-width="1.5"/>
  <circle cx="600" cy="305" r="3" fill="#333"/>
  <line x1="590" y1="330" x2="610" y2="330" stroke="#333" stroke-width="2"/>
  <line x1="590" y1="336" x2="610" y2="336" stroke="#333" stroke-width="2"/>
  <line x1="600" y1="336" x2="600" y2="355" stroke="#333" stroke-width="1.5"/>
  <line x1="588" y1="355" x2="612" y2="355" stroke="#333" stroke-width="2"/>
  <line x1="592" y1="360" x2="608" y2="360" stroke="#333" stroke-width="1.5"/>
  <line x1="596" y1="365" x2="604" y2="365" stroke="#333" stroke-width="1"/>
  <text x="570" y="340" text-anchor="end" font-size="9" fill="#555">Cin2</text>
  <text x="570" y="352" text-anchor="end" font-size="9" fill="#888">22uF/50V</text>

  <!-- DFR0831 Box -->
  <rect x="620" y="288" width="160" height="38" fill="#8e44ad" rx="5" stroke="#6c3483" stroke-width="1.5"/>
  <text x="700" y="304" text-anchor="middle" font-size="10" font-weight="bold" fill="white">DFR0831</text>
  <text x="700" y="318" text-anchor="middle" font-size="9" fill="#e8daef">7–24V → 5V / 4A</text>
  <text x="625" y="284" font-size="8" fill="#555">IN+</text>
  <text x="700" y="284" font-size="8" fill="#555" text-anchor="middle">GND</text>
  <text x="770" y="284" font-size="8" fill="#555" text-anchor="end">OUT+</text>

  <!-- GND pin down -->
  <line x1="700" y1="326" x2="700" y2="355" stroke="#333" stroke-width="1.5"/>
  <line x1="688" y1="355" x2="712" y2="355" stroke="#333" stroke-width="2"/>
  <line x1="692" y1="360" x2="708" y2="360" stroke="#333" stroke-width="1.5"/>
  <line x1="696" y1="365" x2="704" y2="365" stroke="#333" stroke-width="1"/>

  <!-- Output wire -->
  <line x1="780" y1="305" x2="880" y2="305" stroke="#333" stroke-width="2"/>

  <!-- Output bulk cap Cout2 (branch down after DFR0831 output) -->
  <line x1="830" y1="305" x2="830" y2="330" stroke="#333" stroke-width="1.5"/>
  <circle cx="830" cy="305" r="3" fill="#333"/>
  <!-- Capacitor symbol -->
  <line x1="820" y1="330" x2="840" y2="330" stroke="#333" stroke-width="2"/>
  <line x1="820" y1="336" x2="840" y2="336" stroke="#333" stroke-width="2"/>
  <line x1="830" y1="336" x2="830" y2="355" stroke="#333" stroke-width="1.5"/>
  <!-- GND -->
  <line x1="818" y1="355" x2="842" y2="355" stroke="#333" stroke-width="2"/>
  <line x1="822" y1="360" x2="838" y2="360" stroke="#333" stroke-width="1.5"/>
  <line x1="826" y1="365" x2="834" y2="365" stroke="#333" stroke-width="1"/>
  <text x="855" y="340" font-size="9" fill="#555">Cout2</text>
  <text x="855" y="352" font-size="9" fill="#888">220uF/10V</text>
  <text x="855" y="364" font-size="9" fill="#888">bulk cap</text>

  <!-- 5V_PI rail label -->
  <line x1="880" y1="305" x2="950" y2="305" stroke="#9b59b6" stroke-width="2.5"/>
  <text x="915" y="298" text-anchor="middle" font-size="10" font-weight="bold" fill="#9b59b6">5V_PI</text>

  <!-- Pi Zero box -->
  <line x1="950" y1="305" x2="970" y2="305" stroke="#333" stroke-width="2"/>
  <rect x="970" y="280" width="140" height="52" fill="#e74c3c" rx="5" stroke="#c0392b" stroke-width="1.5"/>
  <text x="1040" y="300" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Pi Zero 2 W</text>
  <text x="1040" y="314" text-anchor="middle" font-size="9" fill="#fadbd8">5V via GPIO header</text>
  <text x="1040" y="326" text-anchor="middle" font-size="9" fill="#fadbd8">Pin 2/4 = +5V, Pin 6 = GND</text>
  <text x="975" y="300" font-size="8" fill="#fadbd8">5V</text>

  <!-- ============================================================ -->
  <!-- STAGE 3: GROUNDING DIAGRAM -->
  <!-- ============================================================ -->

  <text x="40" y="440" font-size="14" font-weight="bold" fill="#1a5276">Stage 3: Star Ground Topology</text>

  <!-- Star ground point -->
  <circle cx="400" cy="510" r="12" fill="#f39c12" stroke="#d68910" stroke-width="2"/>
  <text x="400" y="514" text-anchor="middle" font-size="9" font-weight="bold" fill="white">STAR</text>
  <text x="400" y="545" text-anchor="middle" font-size="10" font-weight="bold" fill="#d68910">STAR GROUND POINT</text>
  <text x="400" y="558" text-anchor="middle" font-size="9" fill="#888">(Single PCB location)</text>

  <!-- Power GND branch (left) -->
  <line x1="388" y1="510" x2="120" y2="510" stroke="#c0392b" stroke-width="2.5"/>
  <rect x="40" y="470" width="160" height="40" fill="#fdf2f2" rx="4" stroke="#e74c3c" stroke-width="1.5"/>
  <text x="120" y="487" text-anchor="middle" font-size="10" font-weight="bold" fill="#c0392b">Power GND</text>
  <text x="120" y="502" text-anchor="middle" font-size="9" fill="#666">Buck converter returns</text>

  <!-- Solenoid GND branch (upper-left) -->
  <line x1="393" y1="500" x2="250" y2="460" stroke="#e67e22" stroke-width="2.5"/>
  <rect x="110" y="425" width="160" height="40" fill="#fef5e7" rx="4" stroke="#e67e22" stroke-width="1.5"/>
  <text x="190" y="442" text-anchor="middle" font-size="10" font-weight="bold" fill="#e67e22">Solenoid GND</text>
  <text x="190" y="457" text-anchor="middle" font-size="9" fill="#666">SSA/SSB/EPC/TCC returns</text>

  <!-- Signal GND branch (right) -->
  <line x1="412" y1="510" x2="680" y2="510" stroke="#2980b9" stroke-width="2.5"/>
  <rect x="600" y="470" width="160" height="40" fill="#eaf2f8" rx="4" stroke="#2980b9" stroke-width="1.5"/>
  <text x="680" y="487" text-anchor="middle" font-size="10" font-weight="bold" fill="#2980b9">Signal GND</text>
  <text x="680" y="502" text-anchor="middle" font-size="9" fill="#666">Range sel, brake, press sw</text>

  <!-- Analog GND branch (upper-right) -->
  <line x1="407" y1="500" x2="550" y2="460" stroke="#27ae60" stroke-width="2.5"/>
  <rect x="470" y="425" width="160" height="40" fill="#eafaf1" rx="4" stroke="#27ae60" stroke-width="1.5"/>
  <text x="550" y="442" text-anchor="middle" font-size="10" font-weight="bold" fill="#27ae60">Analog GND</text>
  <text x="550" y="457" text-anchor="middle" font-size="9" fill="#666">TPS, temp, line press, VSS</text>

  <!-- Chassis connection -->
  <line x1="400" y1="522" x2="400" y2="575" stroke="#333" stroke-width="2"/>
  <text x="400" y="590" text-anchor="middle" font-size="10" font-weight="bold" fill="#333">CHASSIS GND</text>
  <!-- GND symbol -->
  <line x1="385" y1="575" x2="415" y2="575" stroke="#333" stroke-width="2.5"/>
  <line x1="389" y1="580" x2="411" y2="580" stroke="#333" stroke-width="2"/>
  <line x1="393" y1="585" x2="407" y2="585" stroke="#333" stroke-width="1.5"/>

  <!-- ============================================================ -->
  <!-- VOLTAGE TABLE -->
  <!-- ============================================================ -->

  <text x="40" y="640" font-size="14" font-weight="bold" fill="#1a5276">Voltage at Each Stage</text>

  <!-- Table -->
  <rect x="40" y="655" width="720" height="25" fill="#2c3e50" rx="3"/>
  <text x="55" y="672" font-size="10" fill="white" font-weight="bold">Condition</text>
  <text x="215" y="672" font-size="10" fill="white" font-weight="bold">Battery</text>
  <text x="330" y="672" font-size="10" fill="white" font-weight="bold">After Schottky (D1)</text>
  <text x="520" y="672" font-size="10" fill="white" font-weight="bold">TVS Active?</text>
  <text x="650" y="672" font-size="10" fill="white" font-weight="bold">5V Output</text>

  <!-- Row 1 -->
  <rect x="40" y="680" width="720" height="22" fill="#f8f9fa"/>
  <text x="55" y="695" font-size="10" fill="#333">Cranking</text>
  <text x="215" y="695" font-size="10" fill="#333">10.0V</text>
  <text x="330" y="695" font-size="10" fill="#333">~9.6V</text>
  <text x="520" y="695" font-size="10" fill="#27ae60">No</text>
  <text x="650" y="695" font-size="10" fill="#27ae60" font-weight="bold">5.0V OK</text>

  <!-- Row 2 -->
  <rect x="40" y="702" width="720" height="22" fill="#fff"/>
  <text x="55" y="717" font-size="10" fill="#333">Key-on (resting)</text>
  <text x="215" y="717" font-size="10" fill="#333">12.6V</text>
  <text x="330" y="717" font-size="10" fill="#333">~12.2V</text>
  <text x="520" y="717" font-size="10" fill="#27ae60">No</text>
  <text x="650" y="717" font-size="10" fill="#27ae60" font-weight="bold">5.0V OK</text>

  <!-- Row 3 -->
  <rect x="40" y="724" width="720" height="22" fill="#f8f9fa"/>
  <text x="55" y="739" font-size="10" fill="#333">Charging (alternator)</text>
  <text x="215" y="739" font-size="10" fill="#333">14.7V</text>
  <text x="330" y="739" font-size="10" fill="#333">~14.3V</text>
  <text x="520" y="739" font-size="10" fill="#27ae60">No</text>
  <text x="650" y="739" font-size="10" fill="#27ae60" font-weight="bold">5.0V OK</text>

  <!-- Row 4 -->
  <rect x="40" y="746" width="720" height="22" fill="#fff"/>
  <text x="55" y="761" font-size="10" fill="#333">Load dump (transient)</text>
  <text x="215" y="761" font-size="10" fill="#333">40V+</text>
  <text x="330" y="761" font-size="10" fill="#333">~39.6V</text>
  <text x="520" y="761" font-size="10" fill="#e67e22" font-weight="bold">YES → clamped ~18V</text>
  <text x="650" y="761" font-size="10" fill="#27ae60" font-weight="bold">5.0V OK</text>

  <!-- Row 5 -->
  <rect x="40" y="768" width="720" height="22" fill="#fdf2f2"/>
  <text x="55" y="783" font-size="10" fill="#c0392b">Severe brownout</text>
  <text x="215" y="783" font-size="10" fill="#c0392b">6.5V</text>
  <text x="330" y="783" font-size="10" fill="#c0392b">~6.1V</text>
  <text x="520" y="783" font-size="10" fill="#27ae60">No</text>
  <text x="650" y="783" font-size="10" fill="#c0392b" font-weight="bold">DROPOUT</text>

  <!-- Table border -->
  <rect x="40" y="655" width="720" height="137" fill="none" stroke="#ccc" stroke-width="1" rx="3"/>

  <!-- Min voltage note -->
  <text x="40" y="812" font-size="10" fill="#888">Both converters need ≥ 7V input → minimum battery voltage = 7.4V (after 0.4V Schottky drop)</text>

  <!-- ============================================================ -->
  <!-- KEY / LEGEND -->
  <!-- ============================================================ -->

  <rect x="820" y="440" width="350" height="280" fill="#f9f9f9" rx="5" stroke="#ccc" stroke-width="1"/>
  <text x="995" y="462" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">Component Summary</text>

  <text x="840" y="485" font-size="10" fill="#333"><tspan font-weight="bold">F1:</tspan> 2A fast-blow fuse</text>
  <text x="840" y="502" font-size="10" fill="#333"><tspan font-weight="bold">D1:</tspan> VFT4045BP (Schottky, TO-220)</text>
  <text x="840" y="519" font-size="10" fill="#333"><tspan font-weight="bold">TVS1:</tspan> P6KE18A (18V breakdown)</text>
  <text x="840" y="536" font-size="10" fill="#333"><tspan font-weight="bold">U_REG1:</tspan> OKI-78SR-5/1.5-W36E-C</text>
  <text x="840" y="553" font-size="10" fill="#333"><tspan font-weight="bold">U_REG2:</tspan> DFR0831 buck module</text>
  <text x="840" y="570" font-size="10" fill="#333"><tspan font-weight="bold">Cin1/Cin2:</tspan> 22uF ceramic, 50V</text>
  <text x="840" y="587" font-size="10" fill="#333"><tspan font-weight="bold">Cout1:</tspan> 22uF ceramic, 10V</text>
  <text x="840" y="604" font-size="10" fill="#333"><tspan font-weight="bold">Cout2:</tspan> 220uF electrolytic, 10V (bulk)</text>

  <line x1="840" y1="616" x2="1150" y2="616" stroke="#ddd" stroke-width="1"/>

  <text x="840" y="636" font-size="10" fill="#1a5276" font-weight="bold">Design Rules:</text>
  <text x="840" y="653" font-size="9" fill="#555">• Teensy + Pi on SEPARATE supplies</text>
  <text x="840" y="668" font-size="9" fill="#555">• Teensy survives Pi brownout</text>
  <text x="840" y="683" font-size="9" fill="#555">• TVS protects DFR0831 (24V max input)</text>
  <text x="840" y="698" font-size="9" fill="#555">• Star ground — separate return paths</text>

  <!-- Signal flow arrows -->
  <text x="40" y="870" font-size="10" fill="#888">Signal flow: Vehicle 12V → F1 (fuse) → D1 (reverse protect) → TVS1 (clamp) → Protected Rail → Buck Converters → 5V Rails</text>

</svg>